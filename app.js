
(function(){
  const DATA = [{"Reel": "Reel 1 - Bienvenida al lujo", "Hook 1 Audio": "Â¿Buscas mÃ¡s que un servicio de belleza? AquÃ­ empieza tu experiencia de lujo.", "Hook 1 Visual": "Toma amplia del salÃ³n, luces y estaciones.", "Hook 2 Audio": "En BogotÃ¡ hay muchos salones, pero ninguno como este.", "Hook 2 Visual": "Puerta del salÃ³n abriÃ©ndose con logo en pantalla.", "Hook 3 Audio": "Cuando entras aquÃ­, no solo cambias tu lookâ€¦ cambias tu confianza.", "Hook 3 Visual": "Plano de espejo reflejando el logo.", "Cuerpo Audio": "En Fussion PeluquerÃ­a transformamos tu confianza. Cada detalle, cada producto premium y cada tÃ©cnica han sido pensados para darte resultados impecables. AquÃ­ vives elegancia y exclusividad.", "Cuerpo Visual": "Recorrido por el salÃ³n + close ups de productos premium + estilista preparando estaciÃ³n.", "CTA 1 Audio": "Descubre Fussion PeluquerÃ­a y agenda tu cita hoy mismo.", "CTA 1 Visual": "Texto: â€œâœ¨ Agenda tu cita âœ¨â€ + direcciÃ³n y telÃ©fono + logo.", "CTA 2 Audio": "Dale a tu cabello la experiencia que merece. Reserva ya.", "CTA 2 Visual": "Texto: â€œTu momento es ahora âœ¨â€.", "CTA 3 Audio": "La elegancia comienza en tu cabello. Ven a Fussion.", "CTA 3 Visual": "Logo + cintillo con datos de contacto.", "Objetivo CampaÃ±a": "Reconocimiento de marca / TrÃ¡fico a WhatsApp", "Audiencia": "Mujeres 20â€“45 en BogotÃ¡, intereses: peluquerÃ­a, coloraciÃ³n, maquillaje, bodas, moda.", "DuraciÃ³n": "30 seg", "Copy Anuncio": "âœ¨ Vive la experiencia de lujo en BogotÃ¡.\nColorimetrÃ­a, peinados y maquillaje profesional.\nðŸ’Ž Productos premium y resultados impecables.\nðŸ“ Fussion PeluquerÃ­a â€“ Cl. 45 #54-90, BogotÃ¡.\nðŸ“² Agenda tu cita ahora.", "SegmentaciÃ³n Meta Ads": "UbicaciÃ³n: BogotÃ¡.\nEdad: Mujeres 20â€“45.\nIntereses: peluquerÃ­a, maquillaje, coloraciÃ³n, bodas, moda.\nComportamientos: Compras online, uso frecuente de Instagram."}, {"Reel": "Reel 2 - AdiÃ³s a las canas, hola seguridad", "Hook 1 Audio": "Â¿Cansada de que tu color nunca quede como lo soÃ±aste?", "Hook 1 Visual": "Plano cabello con canas/apagado + texto: â€œEse no era mi color ðŸš«â€.", "Hook 2 Audio": "El miedo mÃ¡s comÃºn en un salÃ³n: un mal resultado en tu color.", "Hook 2 Visual": "Modelo preocupada frente al espejo.", "Hook 3 Audio": "Tus canas no son un problemaâ€¦ son nuestra especialidad.", "Hook 3 Visual": "Zoom a mechÃ³n de canas antes de aplicar producto.", "Cuerpo Audio": "En Fussion entendemos ese miedo. Por eso usamos Lâ€™OrÃ©al y Schwarzkopf, aplicados por especialistas en colorimetrÃ­a. AquÃ­ no improvisamos: cuidamos tu cabello con tÃ©cnica y calidad. Logramos tonos naturales, cobertura perfecta y un brillo que devuelve seguridad a tu mirada.", "Cuerpo Visual": "Estilista mostrando productos + mezcla en bowl + aplicaciÃ³n en cabello + slow motion cabello final.", "CTA 1 Audio": "AtrÃ©vete a confiar tu color a expertas. Agenda tu cita ya.", "CTA 1 Visual": "Texto: â€œâœ¨ Color impecable âœ¨â€ + contacto.", "CTA 2 Audio": "Tu transformaciÃ³n empieza hoy. Reserva tu cita.", "CTA 2 Visual": "Pantalla final con logo + direcciÃ³n.", "CTA 3 Audio": "Canas fuera, seguridad dentro. Agenda con Fussion.", "CTA 3 Visual": "Texto: â€œâœ¨ Confianza renovada âœ¨â€.", "Objetivo CampaÃ±a": "GeneraciÃ³n de clientes potenciales / Mensajes WhatsApp", "Audiencia": "Mujeres 30â€“45 en BogotÃ¡, intereses: tintes, coloraciÃ³n, balayage, cuidado del cabello.", "DuraciÃ³n": "35â€“40 seg", "Copy Anuncio": "ðŸš« Dile adiÃ³s a los malos colores.\nðŸ’‡â€â™€ï¸ En Fussion PeluquerÃ­a somos especialistas en canas y balayage.\nâœ”ï¸ Trabajamos solo con Lâ€™OrÃ©al y Schwarzkopf.\nâœ¨ Resultados seguros, naturales y brillantes.\nðŸ“² Agenda ya tu cita.", "SegmentaciÃ³n Meta Ads": "UbicaciÃ³n: BogotÃ¡.\nEdad: Mujeres 30â€“45.\nIntereses: tintes, balayage, cuidado del cabello, belleza.\nComportamientos: Compras online, interÃ©s en productos de coloraciÃ³n."}, {"Reel": "Reel 3 - De la rutina al glamour", "Hook 1 Audio": "Â¿Evento importante y no sabes cÃ³mo destacar?", "Hook 1 Visual": "Mujer mirando espejo, insegura.", "Hook 2 Audio": "De la rutinaâ€¦ a la alfombra roja en minutos.", "Hook 2 Visual": "TransiciÃ³n de mujer sin maquillaje a proceso glam.", "Hook 3 Audio": "Porque no todos los dÃ­as son igualesâ€¦ y tu look tampoco debe serlo.", "Hook 3 Visual": "Cambio de look con split screen antes/despuÃ©s.", "Cuerpo Audio": "En Fussion te transformamos en minutos. Nuestro maquillaje y peinados recogidos estÃ¡n diseÃ±ados para bodas, galas y juntas. No es solo un look, es un reflejo de tu confianza y tu lujo personal.", "Cuerpo Visual": "Brochas maquillando ojos + labial + manos recogiendo cabello + modelo lista.", "CTA 1 Audio": "Tu look perfecto comienza aquÃ­. Agenda tu cita.", "CTA 1 Visual": "Texto: â€œâœ¨ Peinados & Maquillaje âœ¨â€.", "CTA 2 Audio": "Haz de tu evento un recuerdo inolvidable. Reserva ya.", "CTA 2 Visual": "Pantalla final con logo + datos.", "CTA 3 Audio": "Brilla con confianza en tu prÃ³ximo evento. Agenda en Fussion.", "CTA 3 Visual": "Texto en pantalla: â€œâœ¨ Brilla hoy âœ¨â€.", "Objetivo CampaÃ±a": "Conversiones (mensajes / reservas)", "Audiencia": "Mujeres 20â€“40 en BogotÃ¡, intereses: bodas, fiestas, maquillaje, moda.", "DuraciÃ³n": "30â€“35 seg", "Copy Anuncio": "âœ¨ El look perfecto para tu boda, gala o evento empresarial.\nðŸ’„ Maquillaje profesional + peinados recogidos elegantes.\nðŸ’Ž Vive la experiencia de lujo en Fussion PeluquerÃ­a.\nðŸ“² Agenda hoy mismo y brilla en tu prÃ³ximo evento.", "SegmentaciÃ³n Meta Ads": "UbicaciÃ³n: BogotÃ¡.\nEdad: Mujeres 20â€“40.\nIntereses: bodas, maquillaje, moda, peinados.\nComportamientos: Usuarios frecuentes de Instagram y Facebook, compradores online."}, {"Reel": "Reel 4 - El secreto estÃ¡ en los productos", "Hook 1 Audio": "Un color impecable no es magiaâ€¦ es ciencia y calidad.", "Hook 1 Visual": "Close up de productos premium.", "Hook 2 Audio": "Â¿Sabes quÃ© diferencia un resultado comÃºn de uno extraordinario?", "Hook 2 Visual": "Estilista destapando producto en slow motion.", "Hook 3 Audio": "El secreto estÃ¡ en lo que usamosâ€¦ y cÃ³mo lo usamos.", "Hook 3 Visual": "Mezcla de producto en bowl con brocha.", "Cuerpo Audio": "En Fussion trabajamos Ãºnicamente con marcas premium que cuidan, nutren y embellecen tu cabello. Con tÃ©cnica profesional logramos colores duraderos, brillo extraordinario y suavidad inmediata. Porque tu cabello merece lo mejor.", "Cuerpo Visual": "Mezcla en bowl + aplicaciÃ³n + cepillo en cabello brillante + slow motion final.", "CTA 1 Audio": "Vive la diferencia de trabajar con lo mejor. Agenda tu cita.", "CTA 1 Visual": "Texto: â€œâœ¨ Tu cabello merece lo mejor âœ¨â€.", "CTA 2 Audio": "No arriesgues tu color. Reserva con Fussion.", "CTA 2 Visual": "Pantalla final con logo y datos.", "CTA 3 Audio": "Calidad, tÃ©cnica y lujo en un solo lugar. Agenda hoy.", "CTA 3 Visual": "Texto en pantalla: â€œâœ¨ Agenda ya âœ¨â€.", "Objetivo CampaÃ±a": "Reconocimiento + TrÃ¡fico", "Audiencia": "Mujeres 25â€“45 en BogotÃ¡, interesadas en cuidado premium del cabello y marcas como Lâ€™OrÃ©al, Schwarzkopf, Kerastase.", "DuraciÃ³n": "30 seg", "Copy Anuncio": "âœ¨ Tu cabello merece lo mejor.\nEn Fussion PeluquerÃ­a trabajamos solo con productos premium:\nâœ”ï¸ Lâ€™OrÃ©al\nâœ”ï¸ Schwarzkopf\nðŸ’Ž MÃ¡s brillo, mÃ¡s duraciÃ³n, mÃ¡s suavidad.\nðŸ“² Agenda tu cita y vive la diferencia.", "SegmentaciÃ³n Meta Ads": "UbicaciÃ³n: BogotÃ¡.\nEdad: Mujeres 25â€“45.\nIntereses: Lâ€™OrÃ©al, Schwarzkopf, Kerastase, productos premium de cabello.\nComportamientos: Compradoras online, interÃ©s en cuidado del cabello."}, {"Reel": "Reel 5 - La experiencia habla por sÃ­ sola", "Hook 1 Audio": "La mejor publicidad no son las palabrasâ€¦ son las sonrisas.", "Hook 1 Visual": "Clienta sonriendo al espejo.", "Hook 2 Audio": "Â¿Quieres saber quiÃ©nes somos? PregÃºntale a nuestras clientas.", "Hook 2 Visual": "Plano estilista mostrando resultado.", "Hook 3 Audio": "Nuestra promesa no se diceâ€¦ se vive.", "Hook 3 Visual": "Plano slow motion equipo saludando.", "Cuerpo Audio": "En Fussion sabemos que elegir un salÃ³n nuevo da miedo. Pero cada transformaciÃ³n, cada clienta que vuelve confiada, es la prueba de que cumplimos lo que prometemos. AquÃ­ tu cabello no es un servicio mÃ¡s, es nuestra pasiÃ³n y compromiso.", "Cuerpo Visual": "Resultado frente al espejo + sonrisa + equipo saludando.", "CTA 1 Audio": "Vive la experiencia Fussion y agenda tu cita hoy.", "CTA 1 Visual": "Texto: â€œâœ¨ Agenda tu cita âœ¨â€.", "CTA 2 Audio": "DÃ©janos transformar tu confianza. Reserva ya.", "CTA 2 Visual": "Pantalla final con logo y datos.", "CTA 3 Audio": "Tu cabello merece mÃ¡s que un servicio, merece Fussion.", "CTA 3 Visual": "Texto: â€œâœ¨ Reserva ahora âœ¨â€.", "Objetivo CampaÃ±a": "Conversiones (mensajes / reservas)", "Audiencia": "Mujeres 20â€“45 en BogotÃ¡, Lookalike audiencias de clientas anteriores.", "DuraciÃ³n": "30â€“40 seg", "Copy Anuncio": "ðŸ’– Lo que nos define no son las palabras, son las experiencias.\nCada sonrisa frente al espejo es nuestra mayor garantÃ­a.\nâœ¨ Resultados que enamoran, confianza que permanece.\nðŸ“² Agenda tu cita y vive la experiencia Fussion PeluquerÃ­a.", "SegmentaciÃ³n Meta Ads": "UbicaciÃ³n: BogotÃ¡.\nEdad: Mujeres 20â€“45.\nIntereses: peluquerÃ­a, belleza, cuidado personal.\nAudiencias personalizadas: lookalike de clientas, seguidores de Instagram.\nComportamientos: Compradoras frecuentes, uso intensivo de redes sociales."}];

  const $search = document.getElementById("search");
  const $types = document.getElementById("type-filters");
  const $cal = document.getElementById("calendar");
  const $counter = document.getElementById("counter");

  function deriveDay(rec){
    const keys = Object.keys(rec);
    let dayKey = keys.find(k=>/^(dÃ­a|dia|dia de la semana|dÃ­a de la semana)$/i.test(k));
    if(dayKey){ const v = String(rec[dayKey]||"").trim(); return v || "General"; }
    let dateKey = keys.find(k=>/fecha/i.test(k));
    if(dateKey){ const d = new Date(rec[dateKey]); if(!Number.isNaN(+d)) return d.toLocaleDateString('es-CO', {weekday:'long'}); }
    return "General";
  }
  function deriveType(rec){
    const keys = Object.keys(rec);
    let typeKey = keys.find(k=>/tipo|formato|pieza|content[_\n\r\s-]?type/i.test(k));
    if(typeKey) return String(rec[typeKey]||"").trim();
    if(keys.some(k=>/reel/i.test(k))) return "Reel";
    if(keys.some(k=>/historia|story/i.test(k))) return "Historia";
    if(keys.some(k=>/post/i.test(k))) return "Post";
    return "Contenido";
  }

  const types = new Set(["Todos"]);
  DATA.forEach(r=> types.add(deriveType(r)));
  let activeType = "Todos";
  function renderTypeChips(){
    $types.innerHTML = "";
    Array.from(types).forEach(t=>{
      const b = document.createElement("button");
      b.className = "chip" + (t===activeType ? " active" : "");
      b.textContent = t;
      b.onclick = ()=>{ activeType = t; render(); };
      $types.appendChild(b);
    });
  }
  renderTypeChips();

  function filterRows(){
    const q = ($search.value||"").toLowerCase().trim();
    return DATA.filter(r=>{
      const t = deriveType(r);
      const typeOk = activeType==="Todos" || t.toLowerCase()===activeType.toLowerCase();
      const text = Object.entries(r).map(([k,v])=>`${k}: ${v}`).join("\n").toLowerCase();
      const qOk = !q || text.includes(q);
      return typeOk && qOk;
    });
  }

  function groupByDay(rows){
    const map = new Map();
    rows.forEach(it=>{ const day = deriveDay(it); if(!map.has(day)) map.set(day, []); map.get(day).push(it); });
    const order = ["lunes","martes","miÃ©rcoles","miercoles","jueves","viernes","sÃ¡bado","sabado","domingo","general"];
    const sortKey = d => { const i = order.indexOf(String(d).toLowerCase()); return i===-1 ? 999 : i; };
    return Array.from(map.entries()).sort((a,b)=>sortKey(a[0])-sortKey(b[0]));
  }

  function kvTable(rec){
    const wrap = document.createElement("div"); wrap.className = "kv";
    Object.entries(rec).forEach(([k,v])=>{
      const kEl = document.createElement("div"); kEl.textContent = k;
      const vEl = document.createElement("div"); vEl.textContent = (v==null?"":String(v));
      wrap.appendChild(kEl); wrap.appendChild(vEl);
    });
    return wrap;
  }

  function render(){
    const rows = filterRows();
    $counter.textContent = `${rows.length} pieza(s) encontradas`;
    const groups = groupByDay(rows);
    $cal.innerHTML = "";
    if(groups.length===0){
      const p = document.createElement("p"); p.className="empty"; p.textContent = "No se encontraron piezas con ese filtro."; $cal.appendChild(p); return;
    }
    groups.forEach(([day, items])=>{
      const sec = document.createElement("section"); sec.className="day";
      const h2 = document.createElement("h2"); h2.textContent = day.charAt(0).toUpperCase()+day.slice(1);
      sec.appendChild(h2);
      const grid = document.createElement("div"); grid.className="grid";
      items.forEach(it=>{
        const card = document.createElement("article"); card.className="card";
        const b = document.createElement("span"); b.className="badge"; b.textContent = deriveType(it);
        card.appendChild(b);
        card.appendChild(kvTable(it));
        grid.appendChild(card);
      });
      sec.appendChild(grid);
      $cal.appendChild(sec);
    });
  }

  $search.addEventListener("input", render);
  render();
})();
